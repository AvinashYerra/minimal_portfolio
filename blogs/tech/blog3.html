<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snowflake 101</title>
    <link rel="stylesheet" href="../../style.css">
    <script defer src="https://umami-portfolio.onrender.com/script.js" data-website-id="46373895-3859-4565-a6a9-f80be3afa929"></script>
</head>

<body>
    <!-- <p>coming soon !</p> -->
    <h1>Snowflake 101</h1>
    <p>Date: 2025-12-02</p>

    <h2>Intro to Snowflake</h2>
    <p>Snowflake is a cloud based Data Warehouse that is able to store large amounts of data useful for analytics, reporting and sometimes Machine Learning</p>
    <p>Pros</p>
    <ul>
        <li>Easy to manage and scale</li>
        <li>Pay as you go model</li>
        <li>Supports all 3 major cloud providers</li>
    </ul>
    <h2>Editions</h2>
    <p>Snowflake comes in different editions, with varying features and pricing. Choose the one based on your use case</p>
    <ul>
        <li>Standard - Designed for general-purpose analytics and data warehousing with core Snowflake features at the lowest cost.</li>
        <li>Enterprise - Adds advanced security, governance, and scalability features for large-scale production workloads.</li>
        <li>Business Critical - Same as Enterprise but with additional features for high availability and compliance.</li>
        <li>Virtual Private Snowflake(VPS) - Offers complete environment isolation and dedicated infrastructure for organizations with strict regulatory or security requirements.</li>
    </ul>

    <h2>Architecture</h2>
    <p>Snowflake consists of 3 layers:</p>
    <ul>
        <li>Cloud Services Layer - Manages security, metadata, and infrastructure management</li>
        <li>Compute Layer - Handles query processing and execution, these are called warehouses which is a cluster of servers. Large the warehouse size, more the compute power, faster the query execution</li> 
        <li>Storage Layer - Manages data storage and retrieval, uses micro-partitions that are immutable for storing data in columnar format</li>   
    </ul>
    <p>Snowflake charges as per the compute power used and the amount of data stored</p>
    <img src="../../assets/images/sf-arch.png" alt="Snowflake Image">
    <h2>UI - description</h2>
    <ul>
        <p>placeholder for image</p>
    </ul>

    <h2>Roles</h2>
    <p>Snowflake allows you to create different roles where you can manage access to different Databases, Schemas, Tables, Views</p>
    <p>There are 4 common roles available in Snowflake</p>
    <ul>
        <li>ACCOUNTADMIN - Full control (use carefully!)</li>
        <li>SYSADMIN - Create databases and warehouses</li>
        <li>SECURITYADMIN - Manage users and roles</li>
        <li>PUBLIC - Default role for all users</li>
    </ul>
    <p>The original role who created the particular object can grant access to other roles to access/edit the object</p>

    <h2>Databases & Schemas</h2>
    <p>To access any object in Snowflake you need to know two details. One is Database name and the other is Schema name</p>
    <p>There can be multiple schemas present in one Database</p>
    <p>For example, consider a table name 'employee_details' present in database - 'employee_db' and schema - 'employee-schema'. you can select the table using the query -</p>
    <pre>
        <code>
            SELECT * FROM employee_db.employee_schema.employee_details;
        </code>
    </pre>
    <p>There will be a table named INFORMATION SCHEMA, which consists of all the tables and schema list of that particular database.</p>

    
    <h2>Tables</h2>
    <p>Snowflake supports 4 types of tables:</p>
    <ul>
        <li>Permanent Tables - Default table type, data is stored until deleted</li>
        <li>Temporary Tables - Data is stored only for the session duration</li>
        <li>Transient Tables - Data is stored until deleted, but no fail-safe available</li>
        <li>External Tables - Data is stored outside Snowflake - Read only(like S3, Azure Blob etc.)</li>
    </ul>
    <p>syntax for creating different types of tables:</p>
    <pre>
        <code>
            -- Creating a Permanent Table
            CREATE TABLE employee_details (
                id INT,
                name STRING,
                department STRING
            );

            -- Creating a Temporary Table
            CREATE TEMPORARY TABLE temp_employee_details (
                id INT,
                name STRING,
                department STRING
            );

            -- Creating a Transient Table
            CREATE TRANSIENT TABLE transient_employee_details (
                id INT,
                name STRING,
                department STRING
            );

            -- Creating an External Table
            CREATE EXTERNAL TABLE external_employee_details (
                id INT,
                name STRING,
                department STRING
            )
            LOCATION='s3://your-bucket/employee_data/'
            FILE_FORMAT = (TYPE = 'CSV' FIELD_DELIMITER = ',' SKIP_HEADER = 1);
        </code>
    </pre>
    <p>Time travel will be available for Permanent (90 days) and Transient (1 day), Temporary (1 day) tables, but not for External tables.</p>

    <h2>Views</h2>  
    <p>Views are virtual tables that are based on the result set of a SQL query</p>
    <p>Views do not store data themselves, but they are executed and displayed when accessed</p>
    <p>Snowflake supports 3 types of views</p>
    <ul>
        <li>Standard Views - Basic views created using SELECT statements</li>
        <li>Materialized Views - Precomputed views that store the result set for faster access, acts more like a table</li>
        <li>Secure Views - Encrypted views that provide an additional layer of security</li>
    </ul>
    <p>syntax for creating different types of views:</p>
    <pre>
        <code>
            -- Creating a Standard View
            CREATE VIEW employee_view AS
            SELECT id, name, department
            FROM employee_details
            WHERE department = 'Sales';

            -- Creating a Materialized View
            CREATE MATERIALIZED VIEW sales_employee_view AS
            SELECT id, name, department
            FROM employee_details
            WHERE department = 'Sales';

            -- Creating a Secure View
            CREATE SECURE VIEW secure_employee_view AS
            SELECT id, name, department
            FROM employee_details
            WHERE department = 'HR';
        </code>
    </pre>

    <h2>Stages</h2>
    <p>Stages are used to named storage locations where you can store files in Snowflake</p>
    <p>They can be used to stage data for loading into tables or to store data that is not part of the database schema</p>
    <p>Snowflake supports 3 types of stages:</p>
    <ul>
        <li>Table Stages - Used to store data that are linked to specific table (Internal & Created automatically)</li>
        <li>User Stages - Used to store data that are linked to a specific user (Internal & Created automatically)</li>
        <li>Named Stages - Named storage locations for storing files (External & Created by user)</li>
        <p>Named Stages are again categorized into 2 types</p>
        <ul>
            <li>External Stages - Stages that point to external cloud storage locations like AWS S3, Azure Blob Storage, Google Cloud Storage</li>
            <li>Internal Stages - Stages that are managed by Snowflake and stored within the Snowflake environment</li>
        </ul>
    </ul>
        <p>syntax for creating stages:</p>
        <pre>
            <code>
                --Accessing Table Stage
                list @%employee_details; -- table name is employee_details

                --Accessing User Stage
                list @~;

                -- Creating an Internal Named Stage
                CREATE STAGE my_internal_stage;

                -- Creating an External Named Stage (AWS S3 example)
                CREATE STAGE my_external_stage
                URL='s3://my-bucket/data/'
                CREDENTIALS=(AWS_KEY_ID='your_aws_key_id' AWS_SECRET_KEY='your_aws_secret_key');
            </code>
        </pre>


    <a href="../../index.html">← Back to Home</a>
    <a href="../blogs.html">← Back to Blogs</a>

    <script>
    if (localStorage.getItem("theme") === "dark") {
            document.body.classList.add("dark");
    }
    </script>
</body>

</html>
